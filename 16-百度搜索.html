<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>百度搜索</title>
		<script type="text/javascript" src="ajax.js" ></script>
	</head>
	<body>
		<input type="text" name="word" id="word" value=""/>
		<button id="btn" name="btn">搜索</button>
		<h3>搜索内容：</h3>
		<ul id="con"></ul>
		
		<script type="text/javascript">
			//https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=%E5%89%8D%E4%BB%BB3&cb=JSON_CALLBACK
			window.onload = function(){
				//定义
				var oWord = document.getElementById('word');
				var oBtn = document.getElementById('btn');
				
				
				oBtn.onclick = function(){
					//获取 word的内容
					var word = oWord.value;
					
					//创建script标签
					var scriptTag = document.createElement('script');
					scriptTag.src = 'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd='+word+'&cb=JSON_yy';
					var headTag = document.getElementsByTagName('head');
					headTag[0].appendChild(scriptTag);
				}	
			}
			
			//jsonp的返回的数据接收，需要写在window.onload的外面
			function JSON_yy(data){
				var oCon = document.getElementById('con');
				oCon.innerHTML = '';
				
				console.log(data);
				
				var data = data.s;
				
				//渲染
				for(var i = 0;i<data.length;i++){
					oCon.innerHTML += '<li>'+data[i]+'</li>';
				}
				
				
			}
			
			
		</script>
	</body>
</html>
